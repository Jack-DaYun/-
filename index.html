<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>かわいいN5日語入門</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      margin: 0; padding: 0;
      background: linear-gradient(#fff8f8, #ffe6f2);
      color: #333;
    }
    header {
      background-color: #ffdee9;
      text-align: center;
      padding: 1rem;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
      color: #ff6ec7;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      background-color: #ffdee9;
      padding-bottom: 0.5rem;
    }
    nav button {
      background-color: #ffd1dc;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: transform 0.1s;
    }
    nav button:active {
      transform: scale(0.95);
    }
    section {
      padding: 1rem;
      display: none;
    }
    section.active {
      display: block;
    }
    .flashcard {
      background-color: #fff;
      border: 2px solid #ffd1dc;
      border-radius: 12px;
      text-align: center;
      padding: 2rem;
      margin: 1rem auto;
      width: 80%;
      max-width: 320px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .flashcard small {
      display: block;
      color: #999;
      margin-top: 0.5rem;
    }
    .progress {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #777;
    }
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: #fff;
    }
    .modal button {
      margin-top: 1rem;
      background-color: #ffd1dc;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-size: 1rem;
    }
    .quiz-option {
      display: block;
      background-color: #fff;
      border: 2px solid #ff9aae;
      border-radius: 8px;
      padding: 0.5rem;
      margin: 0.5rem 0;
    }
    .dialogue-line {
      margin: 0.5rem 0;
    }
    @media (min-width: 600px) {
      nav button { font-size: 1.2rem; }
    }
  </style>
</head>
<body>
  <div id="intro" class="modal">
    <p>ようこそ！このサイトではかわいいキャラと一緒にN5単語や会話を学びます。</p>
    <button id="startBtn">はじめる</button>
  </div>
  <header>
    <h1>🍡 かわいいN5日語入門</h1>
  </header>
  <nav>
    <button data-section="vocab">単語</button>
    <button data-section="dialogue">会話</button>
    <button data-section="quiz">クイズ</button>
  </nav>
  <section id="vocab" class="active">
    <div class="flashcard" id="flashcard">こんにちは
      <small id="translation">Hello</small>
      <div class="progress" id="progress">1/5</div>
    </div>
    <button id="playWord">🔊 発音</button>
    <button id="nextWord">次へ</button>
  </section>
  <section id="dialogue">
    <div id="dialogueLines"></div>
  </section>
  <section id="quiz">
    <div id="quizQuestion"></div>
    <div id="quizOptions"></div>
    <div id="quizFeedback"></div>
    <button id="nextQuiz" style="display:none;">次の問題</button>
  </section>
<script>
const words = [
  {jp: 'こんにちは', en:'Hello'},
  {jp: 'ありがとう', en:'Thank you'},
  {jp: 'さようなら', en:'Goodbye'},
  {jp: 'はい', en:'Yes'},
  {jp: 'いいえ', en:'No'}
];
let currentWord = 0;

function showWord() {
  const w = words[currentWord];
  document.getElementById('flashcard').textContent = w.jp;
  document.getElementById('translation').textContent = w.en;
  document.getElementById('progress').textContent = `${currentWord+1}/${words.length}`;
}

document.getElementById('playWord').onclick = () => {
  const utter = new SpeechSynthesisUtterance(words[currentWord].jp);
  utter.lang = 'ja-JP';
  speechSynthesis.speak(utter);
};

document.getElementById('nextWord').onclick = () => {
  currentWord = (currentWord + 1) % words.length;
  showWord();
};

showWord();

// Intro modal
document.getElementById('startBtn').onclick = () => {
  document.getElementById('intro').style.display = 'none';
};

const dialogue = [
  {speaker: 'A', line: 'おはようございます'},
  {speaker: 'B', line: 'おはようございます'},
  {speaker: 'A', line: 'おげんきですか'},
  {speaker: 'B', line: 'はい、げんきです'}
];
const dialogueContainer = document.getElementById('dialogueLines');
dialogue.forEach(d => {
  const div = document.createElement('div');
  div.className = 'dialogue-line';
  div.textContent = `${d.speaker}: ${d.line}`;
  const btn = document.createElement('button');
  btn.textContent = '🔊';
  btn.onclick = () => {
    const u = new SpeechSynthesisUtterance(d.line);
    u.lang = 'ja-JP';
    speechSynthesis.speak(u);
  };
  div.appendChild(btn);
  dialogueContainer.appendChild(div);
});

const quiz = [
  {
    q: '「ありがとう」は英語で？',
    options: ['Hello', 'Thank you', 'Goodbye'],
    answer: 1
  },
  {
    q: '「はい」の反対は？',
    options: ['いいえ', 'こんにちは', 'さようなら'],
    answer: 0
  }
];
let currentQuiz = 0;
function showQuiz() {
  const q = quiz[currentQuiz];
  document.getElementById('quizQuestion').textContent = q.q;
  const opts = document.getElementById('quizOptions');
  opts.innerHTML = '';
  q.options.forEach((opt,i)=>{
    const btn = document.createElement('button');
    btn.className='quiz-option';
    btn.textContent = opt;
    btn.onclick=()=>checkAnswer(i);
    opts.appendChild(btn);
  });
  document.getElementById('quizFeedback').textContent='';
  document.getElementById('nextQuiz').style.display='none';
}

function checkAnswer(i) {
  const q=quiz[currentQuiz];
  const feedback=document.getElementById('quizFeedback');
  if (i===q.answer) {
    feedback.textContent='正解！';
    feedback.style.color='green';
  } else {
    feedback.textContent='もう一度考えてみて';
    feedback.style.color='red';
    return;
  }
  document.getElementById('nextQuiz').style.display='inline';
}

document.getElementById('nextQuiz').onclick=()=>{
  currentQuiz = (currentQuiz+1)%quiz.length;
  showQuiz();
};
showQuiz();

// Navigation
document.querySelectorAll('nav button').forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll('section').forEach(sec=>sec.classList.remove('active'));
    document.getElementById(btn.dataset.section).classList.add('active');
  };
});
</script>
</body>
</html>
